<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script
      src="https://code.jquery.com/jquery-3.4.1.js"
      integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Yeon+Sung&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/style.css" />
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>

    <title>Interactive Dashboard</title>
  </head>
  <body style="background: #ebeff2;">
    <!-- <nav class="navbar navbar-light bg-light univesal-shadow">
        <div class="navbar-brand">
         <span>Radar</span>
        </div>
        <div class="navbar-content">
            <button class="btn">Radar View</button>
            <button class="btn">Quick Guide</button>
            <button class="btn ">Feedback</button>
        </div>
      </nav> -->
    <div
      class="container-fluid universal_padding"
      style="padding-bottom: 30px;"
    >
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div
              class="card univesal-shadow universal_border_radius"
              style="height: auto;"
            >
              <div id="myChart" class="chart--container"></div>
            </div>
          </div>
        </div>
        <!-- block of top 10 values -->
        <div class="row universal_padding">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="row">
              <h5 class="card-title">Top Ten Topics</h5>
            </div>
          </div>
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="row" style="padding: 20px;">
              {{range .top}} {{if .Topic}}
              <div
                class="card"
                style="height: 150px; width: 20%; text-align: center;"
              >
                <span style="padding: 15px;">{{.Topic}}</span>
              </div>
              {{end}} {{end}}
            </div>
          </div>
        </div>
        <!-- table data -->
        <div class="row">
          <div
            class="col-lg-12 col-md-12 col-sm-12 col-xs-12 card universal_padding"
            style="height: auto;"
          >
            <div class="row universal_padding">
              <div
                class="col-lg-12 col-md-12 col-sm-12 col-xs-12 universal_padding"
              >
                <div
                  class="table-responsive table-striped table-hover table-bordered"
                >
                  <table id="example" class="" style="padding: 0;">
                    <thead>
                      <th>Title</th>
                      <th>Topic</th>
                      <th>Year</th>
                      <th>Intensity</th>
                      <th>Sector</th>
                      <th>Region</th>
                      <th>Pestle</th>
                    </thead>
                    <tbody>
                      <script>
                        var cloud = "";
                      </script>
                      {{range .payload}}
                      <tr>
                        <td style="padding: 15px;">{{.Title}}</td>
                        <td style="padding: 15px;">{{.Topic}}</td>
                        <td style="padding: 15px;">{{.Start_Year}}</td>
                        <td style="padding: 15px;">{{.Intensity}}</td>
                        <td style="padding: 15px;">{{.Sector}}</td>
                        <td style="padding: 15px;">{{.Region}}</td>
                        <td style="padding: 15px;">{{.Pestle}}</td>
                      </tr>
                      <script>
                        cloud += {{.Topic}} + " ";
                        // console.log(cloud)
                      </script>
                      {{end}}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      // ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
      let chartConfig = {
        type: "wordcloud",
        options: {
          text: cloud,
          aspect: "spiral",
          colorType: "palette",
          ignore: ["establish", "this"],
          maxItems: 50,
          minLength: "4px",
          palette: [
            "#D32F2F",
            "#1976D2",
            "#9E9E9E",
            "#E53935",
            "#1E88E5",
            "#7E57C2",
            "#F44336",
            "#2196F3",
            "#A1887F",
          ],
          rotate: true,
          style: {
            tooltip: {
              text: "Frequncy %hits",
              padding: "5px",
              alpha: 0.9,
              backgroundColor: "#D32F2F",
              borderColor: "none",
              borderRadius: "3px",
              fontColor: "white",
              fontFamily: "Georgia",
              textAlpha: 1,
              visible: true,
              width: "100px",
              wrapText: true,
            },
            fontFamily: "Merriweather",
            hoverState: {
              backgroundColor: "#1976D2",
              borderColor: "none",
              borderRadius: "3px",
              fontColor: "white",
            },
          },
        },
      };

      zingchart.render({
        id: "myChart",
        data: chartConfig,
      });
    </script>
  </body>
</html>
